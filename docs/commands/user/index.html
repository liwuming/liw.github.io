<!DOCTYPE html>
<html lang="zh-CN"><head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="format-detection" content="telephone=no">
<meta name="keywords"  content="linuxcool,Linux,Linux系统,Linux命令,Linux命令大全,Linux常用命令,shell，shell脚本,shell脚本学习,Linux命令查询,Linux命令用法详解,Linux命令实例。">
<title>Linux命令大全(手册) – title</title>
<meta name="robots" content="max-image-preview:large">
<meta name="description" content="">
<link rel="stylesheet" href="https://static.ibiancheng.net/github/static.css?version=1" type="text/css">
</head>
<body>
<div id="live-search">
<div class="ui-container">

<div id="logo"><a href="/"><img src="https://cdn.ibiancheng.vip/github/logo.png"></a></div>
<div id="search-wrap">
<form role="search" method="get" id="searchform" class="clearfix" action="https://www.linuxcool.com/">
<div class="search-input-section">
<input type="text" onfocus="if (this.value == '请输入一个命令或相关功能') {this.value = '';}" onblur="if (this.value == '')  {this.value = '请输入一个命令或相关功能';}" value="请输入一个命令或相关功能" name="s" id="s" autocapitalize="off" autocorrect="off" autocomplete="off">
<i class="live-search-loading fa fa-spinner fa-spin"></i>
</div>
<button type="submit" id="searchsubmit">
<i class="fa fa-search"></i><span>查询</span>
</button>
</form>
</div>
</div>
</div><div class="ui-body-section"><div class="ui-main-section"><div class="ui-article-section"> <div class="ui-article-title"> <h1>文件管理</h1><div class="operate"> <a target="_blank" href="https://github.com/jaywcjlove/linux-command/edit/master/command/apachectl.md">纠正错误</a><span class="split"></span> <a target="_blank" href="https://github.com/jaywcjlove/linux-command/edit/master/command/apachectl.md">添加实例</a> </div> </div><article id="detail"><h1>useradd -- 添加用户</h1>
<h2>name --</h2>
<h2>synopsis -- 使用说明</h2>
<ol>
<li>
<p>useradd -D [options]</p>
</li>
<li>
<p>useradd [options] LOGIN</p>
</li>
</ol>
<h2>description-- 描述</h2>
<h2>options--常用选项</h2>
<p>-g<br>
-G 指定用户所属附加组，可以是group name也可以是gid，当属于多个gid时，<br>
-s,--shell,为用户指定默认的shell<br>
-r,--shell,创建系统用户</p>
<p>常用选项<br>
-u，<br>
-d，指定家目录<br>
-s，--shell，指定用户的默认shell</p>
<blockquote class="ui-warning-section"><p>为新用户设置默认shell时，需保障当前环境存在所指定的shell，那如何查看当前系统有那些可用shell呢</p>
</blockquote><pre class="line-numbers"><div class="line-numbers-rows"><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p></div><code class="language-shell">liwuming@DESKTOP-LD577G5:~$ <span class="token function">cat</span> /etc/shells
<span class="token comment"># /etc/shells: valid login shells</span>
/bin/sh
/bin/bash
/usr/bin/bash
/bin/rbash
/usr/bin/rbash
/bin/dash
/usr/bin/dash
/usr/bin/tmux
/usr/bin/screen
</code></pre>
<p>疑惑：valid login shells</p>
<p>login shell和no-login shell</p>
<p>-r，--system，创建系统用户<br>
-M，不创建用户主目录<br>
-f，--<br>
-D，显示添加用户时的默认配置信息<br>
-D option value:用户修改默认配置信息</p>
<p>修改之后的配置信息保存在/etc/default/useradd文件中</p>
<p>注意：<br>
创建用户时的默认配置信息设置在/etc/login.defs</p>
<p>umask是什么</p>
<p><a href="https://linuxhandbook.com/login-shell/">https://linuxhandbook.com/login-shell/</a></p>
<h1>usermod -- 修改用户信息</h1>
<p>常用选项:</p>
<ul>
<li>-u，--uid,修改指定uid</li>
<li>-g，--gid,修改所属基本组</li>
<li>-G，--groups，修改用户所属附加组</li>
</ul>
<blockquote class="ui-warning-section"><p><code>-G</code>选项默认会进行覆盖操作，若期望在原有基础上进行追加，则需要<code>-a</code>选项的帮助</p>
</blockquote><ul>
<li>-a，--append，与-G选项一起使用，用于为用户追加新的附加组</li>
<li>-c，--comment comment_msg，修改注释信息</li>
<li>-d，--home home_dir，修改用户的家目录</li>
</ul>
<blockquote class="ui-warning-section"><p>使用<code>-d</code>选项时需注意，若原来家目录下有文件，-d选项不会移动原有数据，可能会造成数据丢失，若期望修改家目录并移动移动家目录下的文件，则选择<code>-m</code>选项的配合</p>
</blockquote><ul>
<li>-m,--move-home，只能与-d选项一起使用时生效，用于将原家目录及其子目录文件移动到新目录</li>
</ul>
<p>-l，--login new_uname,<br>
-s，--shell,<br>
-l，--lock，锁定用户密码<br>
-U,--unlock，解锁用户密码</p>
<p>使用频率较多的命令，-G</p>
<h1>userdel -- 删除用户</h1>
<ul>
<li>-r，删除用户家目录</li>
</ul>
<blockquote>
<p>在删除用户时，默认并不删除家目录，除非添加了<code>-r</code>选项</p>
</blockquote>
<p>useradd gentoo -g gentoo -G 5000 5001</p>
<h1>passwd -- 修改用户密码</h1>
<h2>name -- 功能释义</h2>
<blockquote>
<p>change user password</p>
</blockquote>
<h2>synopsis -- 使用说明</h2>
<p>passwd [options] [LOGIN]</p>
<h2>description -- 详细描述</h2>
<blockquote>
<p>The passwd command changes passwords for user accounts. A normal user may only change the password for their own account, while the superuser may change the password for any account.  passwd also changes the account or associated password validity period.</p>
</blockquote>
<p>1.普通用户仅可以修改自己的账户密码，但超级管理员可以修改任何账户密码(直接更改)<br>
2.passwd命令还可用来修改密码的有效期</p>
<h2>options--常用选项</h2>
<ul>
<li>-l，lock，锁定用户</li>
<li>-u，--unlock，解锁用户</li>
<li>-d，--delete，删除账户密码</li>
<li>-e，--expire，使账户密码立刻过期</li>
<li>-S，--status，展示账户状态信息,展示的信息</li>
</ul>
<pre class="line-numbers"><div class="line-numbers-rows"><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p><p class="row-number"></p></div><code class="language-shell">root@DESKTOP-LD577G5:~<span class="token comment"># passwd -aS</span>
root P 02/18/2022 <span class="token number">0</span> <span class="token number">99999</span> <span class="token number">7</span> -1
daemon L 08/19/2021 <span class="token number">0</span> <span class="token number">99999</span> <span class="token number">7</span> -1
bin L 08/19/2021 <span class="token number">0</span> <span class="token number">99999</span> <span class="token number">7</span> -1
sys L 08/19/2021 <span class="token number">0</span> <span class="token number">99999</span> <span class="token number">7</span> -1
</code></pre>
<p>--stdin<br>
echo &quot;mageedu&quot; |passwd --stdin docker &amp;&gt; /dev/null<br>
echo $?</p>
<h1>gpasswd</h1>
<p>向组设置密码<br>
向组中添加用户，删除用户</p>
<p>给组添加密码有什么用?</p>
<p>避免用户临时切换用户</p>
<p>files<br>
/etc/passwd,记录了所有账户的信息，但不包含密码信息<br>
/etc/shadow，左右账户的密码信息<br>
/etc/pam.d/passwd</p>
<p>su</p>
<h1>change -- 更改用户密码过期信息</h1>
<h1>id -- *****</h1>
<ul>
<li>
<p>-u，仅显示有效的uid</p>
</li>
<li>
<p>-g，仅显示有效的基本组gid</p>
</li>
<li>
<p>-G，仅显示所有组的id</p>
</li>
<li>
<p>-n，显示名称而非id</p>
</li>
</ul>
<h1>su -- 用户切换</h1>
<p>登录时切换<br>
非登录式切换</p>
<blockquote>
<p>一般情况下，都需要加-，进行登录切换</p>
</blockquote>
<ul>
<li>-，-l，--login，</li>
<li>-c，--command，不切换用户，仅以指定目标用户执行命令</li>
</ul>
<p>groupadd<br>
groupmod<br>
groupdel</p>
<p>useradd<br>
usermod<br>
userdel</p>
<p>passwd<br>
su<br>
id<br>
newgrp<br>
charge</p>
<hr>
<ul>
<li>validity　正确，合法，</li>
<li>period 时代，</li>
</ul>
<p>正则表达式</p>
<p>用户管理<br>
进程管理<br>
软件包的安装</p>
<p>awera 意识到</p>
<p>probably 可能，大概，或许</p>
<p>validity</p>
<p>period 有效期，</p>
<p>interactive 交互</p>
<p>revisit<br>
invoked 调用</p>
<p>at the same time</p>
</article></div><div class="ui-comments-section">评论区</div></div> <div class="ui-sidebar-section"></div></div><footer class="ui-footer-section">

</footer>
</body>
</html>